<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>v6</title>

    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css"
      integrity="sha512-iBBXm8fW90+nuLcSKlbmrPcLa0OT92xO1BIsZ+ywDWZCvqsWgccV3gFoRBv0z+8dLJgyAHIhR35VZc2oM/gI1w=="
      crossorigin="anonymous"
    />

    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/5.0.0-beta3/css/bootstrap.min.css"
      integrity="sha512-N415hCJJdJx+1UBfULt+i+ihvOn42V/kOjOpp1UTh4CZ70Hx5bDlKryWaqEKfY/8EYOu/C2MuyaluJryK1Lb5Q=="
      crossorigin="anonymous"
    />

    <link href="tempus-dominus.css" rel="stylesheet" />

    <script
      src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/2.9.1/umd/popper.min.js"
      integrity="sha512-g2PN+aYR0KupTVwea5Ppqw4bxWLLypWdd+h7E0ydT8zF+/Y2Qpk8Y1SnzVw6ZCVJPrgB/91s3VfhVhP7Y4+ucw=="
      crossorigin="anonymous"
    ></script>

    <script
      src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/5.0.0-beta3/js/bootstrap.min.js"
      integrity="sha512-mp3VeMpuFKbgxm/XMUU4QQUcJX4AZfV5esgX72JQr7H7zWusV6lLP1S78wZnX2z9dwvywil1VHkHZAqfGOW7Nw=="
      crossorigin="anonymous"
    ></script>

    <script
      src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/js/all.min.js"
      integrity="sha512-RXf+QSDCUQs5uwRKaDoXt55jygZZm2V++WUZduaU/Ui/9EGp3f/2KZVahFZBKGH0s774sd3HmrhUy+SgOFQLVQ=="
      crossorigin="anonymous"
    ></script>
  </head>
  <body class="bg-dark">
    <div>
      <div class="container">
        <div class="row">
          <div class="col-6">
            <div class="row">
              <div class="col-12">
                <label class="form-label">No input</label>
                <br />
                <span
                  id="popcorn"
                  class="text-light"
                  style="display: inline-block"
                >
                  <i class="far fa-calendar fa-9x"></i>
                </span>
              </div>
            </div>
            <div class="row mt-5">
              <label for="startTimeInputId" class="form-label text-light">
                Test
              </label>
              <div
                class="input-group"
                id="datetimepicker1"
                data-target-input="nearest"
                data-target-toggle="nearest"
              >
                <input
                  id="startTimeInputId"
                  type="text"
                  class="form-control"
                  data-target="#datetimepicker1"
                />
                <span
                  class="input-group-text"
                  data-target="#datetimepicker1"
                  data-toggle="datetimepicker"
                >
                  <span class="far fa-calendar"></span>
                </span>
              </div>
            </div>
          </div>
          <div class="col-6">
            <button id="clearLog" type="button" class="btn btn-primary m-3">
              Clear Log
            </button>
            <div id="log"></div>
          </div>
        </div>
      </div>
    </div>
    <style>
      label {
        color: white;
      }
      #log {
        max-height: 90vh;
        overflow-y: scroll;
      }
    </style>
    <script src="tempus-dominus.js"></script>
    <script>
      const now = new Date();
      const twoHours = new Date();
      twoHours.setHours(now.getHours() + 2);
      let options = {
        display: {
          //viewMode: 'times',
          // components: {
          //     date: false,
          //     century: false,
          //     hours: true,
          //     seconds: false,
          //     month: false,
          //     year: false,
          //     minutes: true,
          //     decades: false,
          //     useTwentyfourHour: false
          // },
          components: {
            useTwentyfourHour: false,
            seconds: true,
          },
          //toolbarPlacement: 'top'
        },
        allowMultidate: true,
      };

      try {
        var dt = new tempusdominus.TempusDominus(
          document.getElementById('popcorn'),
          {
            restrictions: {
              //minDate: 'cheese',
              //maxDate: '11/22/2013 00:53',
              //maxDate: new Date(2021, 2 - 1, 10),
              disabledDates: [
                //moment("12/25/2013").toDate(),
                new Date(2021, 2 - 1, 10),
                //'11/22/2013 00:53',
                //'cheese'
              ],
              enabledDates: null,
              disabledTimeIntervals: [{ from: now, to: twoHours }],
            },
            allowMultidate: false,
          }
        );

        var dt2 = new tempusdominus.TempusDominus(
          document.getElementById('datetimepicker1'),
          options
        );

        /*dt.updateOptions({
    restrictions : {
        maxDate: '11/22/2013 00:53',
    }
});*/
      } catch (e) {
        logger('error', e);
        console.log(e);
      }

      document.getElementById('clearLog').addEventListener('click', () => {
        document.getElementById('log').innerHTML = '';
      });

      function logger(verb, ...arguments) {
        const msg = document.createElement('div');
        msg.classList.add('alert');
        switch (verb) {
          case 'log':
            msg.classList.add('alert-light');
            break;
          case 'debug':
            msg.classList.add('alert-secondary');
            break;
          case 'info':
            msg.classList.add('alert-info');
            break;
          case 'warn':
            msg.classList.add('alert-warning');
            break;
          case 'error':
            msg.classList.add('alert-danger');
            break;
        }
        const pre = document.createElement('pre');
        pre.innerHTML = arguments.join(' ');
        msg.appendChild(pre);
        document.getElementById('log').appendChild(msg);
      }

      ['log', 'debug', 'info', 'warn', 'error'].forEach(function (verb) {
        console[verb] = (function (method, verb) {
          return function () {
            method.apply(console, arguments);
            logger(verb, Array.prototype.slice.call(arguments));
          };
        })(console[verb], verb);
      });

      [
        'change',
        'update',
        'error',
        'show',
        'hide',
        'blur',
        'keyup',
        'keydown',
        'focus',
        'click',
      ].forEach((e) => {
        document.getElementById('popcorn').addEventListener(e, () => {
          console.log('event:', e);
        });
      });
    </script>
  </body>
</html>
