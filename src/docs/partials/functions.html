<page-body>
  <section>
    For the sake of the following documentation, assume there's a picker setup like this:
    <pre>
  <code class='language-javascript'>
const picker = new tempusdominus.TempusDominus(document.getElementById('datetimepicker1'));
  </code>
</pre>

    <div class='container'>
      <div class='row'>
        <div class='col-sm-6'>
          <label for='datetimepicker1Input' class='form-label'>Simple picker</label>
          <div
            class='input-group'
            id='datetimepicker1'
            data-td-target-input='nearest'
            data-td-target-toggle='nearest'
          >
            <input
              id='datetimepicker1Input'
              type='text'
              class='form-control'
              data-td-target='#datetimepicker1'
            />
            <span
              class='input-group-text'
              data-td-target='#datetimepicker1'
              data-td-toggle='datetimepicker'
            >
               <span class='fas fa-calendar'></span>
             </span>
          </div>
        </div>
        <script type='text/javascript'>
          const picker = new tempusdominus.TempusDominus(document.getElementById('datetimepicker1'));
        </script>
      </div>
    </div>
  </section>

  <section>
    <h2>Dates</h2>
    <h3>Getting the View Date</h3>
    <p>
      <code>picker.viewDate</code> returns the pickers current view date.
    </p>
    <h4>picker.dates</h4>
    <p>
      There are a number of function here that allow for retrieving the selected dates or adding to them.
    </p>
    <h5>- picked</h5>
    <p>
      Returns an array of <code>DateTime</code> of the selected date(s).
    </p>
    <h5>- lastPicked</h5>
    <p>
      Returns the last picked <code>DateTime</code> of the selected date(s).
    </p>
    <h5>- lastPickedIndex</h5>
    <p>
      Returns the length of picked dates -1 or 0 if none are selected.
    </p>
    <h5>- add(DateTime)</h5>
    <p>
      Adds a new DateTime to selected dates array. Use this function with caution. It will not automatically refresh the
      widget or do any validation.
    </p>
    <h5>- isPicked(DateTime, Unit?)</h5>
    <p>
      Returns true if the target date is part of the selected dates array. If unit is provided then a granularity to
      that unit will be used.
    </p>
    <h5>- pickedIndex(DateTime, Unit?)</h5>
    <p>
      Returns the index at which target date is in the array. This is used for updating or removing a date when
      multi-date is used. If unit is provided then a granularity to that unit will be used.
    </p>
    <h5>- clear</h5>
    <p>
      Clears all selected dates.
    </p>
    <p>
      <strong>Emits</strong> <code>Namespace.Events.change</code> with the last picked date.
    </p>
  </section>

  <section>
    <h2>updateOptions(object, boolean?)</h2>
    <p>
      In previous version there was a function to read/write to each of the provided options. This made it easy to use
      but made the code bulky and harder to maintain. <code>updateOptions</code> replaces those functions and takes an
      object of new options. This allows for multiple options to be set at the same time and works the same way as when
      setting up the picker.
    </p>
    <p>
      If the optional <code>reset</code> flag is provided then new options will be merged with the default values.
    </p>
  </section>

  <section>
    <h2>Display</h2>
    <h3 id='toggle'>toggle</h3>
    <p>Shows or hides the widget</p>
    <h4 id='emits'>Emits</h4>
    <ul>
      <li>
        <p><code>Namespace.Events.hide</code> - if the widget is hidden after the toggle call</p>
      </li>
      <li>
        <p><code>Namespace.Events.show</code> - if the widget is show after the toggle call</p>
      </li>
      <li>
        <p><code>Namespace.Events.change</code> - if the widget is opened for the first time and the input element is
          empty and <code>options.useCurrent != false</code></p>
      </li>
    </ul>

    <h3 id='show'>show</h3>
    <p>Shows the widget</p>
    <h4>Emits</h4>
    <ul>
      <li>
        <p><code>Namespace.Events.show</code> - if the widget was hidden before that call</p>
      </li>
      <li>
        <p><code>Namespace.Events.change</code> - if the widget is opened for the first time and the
          <code>useCurrent</code> is set to true or to a granularity value and the input element the component is
          attached to has an empty value</p>
      </li>
    </ul>
    <h3 id='hide'>hide</h3>
    <p>Hides the widget</p>
    <h4>Emits</h4>
    <ul>
      <li><code>Namespace.Events.hide</code> - if the widget was visible before that call</li>
    </ul>
  </section>
  <section>
    <h2 id='dispose'>dispose</h2>
    <p>Destroys the widget and removes all attached event listeners. If the picker is open it will be hidden and the
      event fired.</p>
  </section>
  <section>
    <h2 id='disable'>disable</h2>
    <p>Disables the input element and the component is attached to, by adding a <code>disabled="true"</code> attribute
      to
      it. If the widget was visible before that call it is hidden.</p>
    <h3>Emits</h3>
    <ul>
      <li><code>Namespace.Events.hide</code> - if the widget was visible before this call</li>
    </ul>
  </section>
  <section>
    <h2 id='enable'>enable</h2>
    <p>Enables the input element and the component is attached to, by removing <code>disabled</code> attribute from it.
    </p>
  </section>
  <section>
    <h2 id='clear'>clear</h2>
    <p>Clears all selected dates. This is a short cut to <code>picker.dates.clear()</code></p>
  </section>
  <section>
    <h2 id='subscribe'>subscribe(event | events[], callback | callbacks[])</h2>
    <p>
      Instead of adding event listeners to the pickers element, you can use the subscribe method. You can provide a
      single event to listen for or an array of events. When providing an array the number of callbacks must be the
      same as the number of events.
    </p>
    <p>
      The subscribe method returns an unsubscribe method or an array of methods if multiple events are provided. Calling
      unsubscribe remove the callback from the event listeners. Unsubscribing will not prevent
      <code>addEventListener()</code> from working.
    </p>
    <pre>
      <code class='language-javascript'>
const subscription = picker.subscribe(tempusdominus.Namespace.Events.change, (e) => {
  console.log(e);
});

// event listener can be unsubscribed to:
subscription.unsubscribe();

//you can also provide multiple events:
const subscriptions = picker.subscribe(
        [tempusdominus.Namespace.Events.show,tempusdominus.Namespace.Events.hide],
        [(e)=> console.log(e), (e) => console.log(e)]
)
      </code>
    </pre>
  </section>
</page-body>

<page-meta>
  <title>Functions</title>
  <post-date>07/08/2021</post-date>
  <update-date>07/08/2021</update-date>
  <excerpt>How to use Tempus Dominus datetime picker
  </excerpt>
  <tags>datepicker, javascript, open source, tempus dominus, eonasdan</tags>
</page-meta>